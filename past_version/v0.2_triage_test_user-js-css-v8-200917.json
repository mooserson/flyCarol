{"libs":[{"name":"jQuery 3","src":"@extension@jquery.min.js"}],"settings":{"badgeCounter":false,"editorConfig":{"enableBasicAutocompletion":false,"enableLiveAutocompletion":true,"enableSnippets":true,"fontSize":15,"highlightActiveLine":false,"keyboardHandler":false,"showPrintMargin":false,"tabSize":4,"theme":"ace/theme/tomorrow","useSoftTabs":false,"useWorker":true,"wrap":true},"supportBtn":false,"themesFolder":["chrome","clouds","dawn","dracula","dreamweaver","eclipse","github","monokai","solarized_dark","solarized_light","textmate","tomorrow","tomorrow_night","twilight"],"version":8},"sites":[{"compiledCss":"[title=\"Warm Line Call Report\"] {background-color: rgb(0, 204, 153)!important;}","css":"[title ='Warm Line Call Report'] {\n\tbackground-color: #0C9;\n}","id":"https://na0.icarol.com/secure/reports/SelectReportVersion.aspx","js":"$(\"[title ='Warm Line Call Report']\")[0].click()","libs":[],"name":"Auto-Select Report Type: Warm Line","options":{"altCSS":false,"altJS":false,"autoImportant":false,"on":false}},{"compiledCss":".flyCarolButton:active {color: blue!important; box-shadow: rgb(153, 153, 153) 1px 1px 2px!important;}.flyCarolButton {position: fixed!important; width: 60px!important; height: 60px!important; left: 875px!important; font-size: 5.5em!important; background-color: rgba(0, 204, 153, 0.32)!important; border-radius: 50px!important; text-align: center!important; box-shadow: rgb(153, 153, 153) 2px 2px 3px!important;}#reverseOrderButton {top: 110px!important; padding-top: 4px!important;}#newPost {padding-top: 6px!important; top: 185px!important; font-size: 5em!important;}html {scroll-behavior: smooth!important;}","css":".flyCarolButton:active {\n\tcolor: blue;\n\tbox-shadow: 1px 1px 2px #999;\n}\n\n.flyCarolButton {\n\tposition:fixed;\n\twidth:60px;\n\theight:60px;\n\tleft: 875px;\n\tfont-size: 5.5em;\n\tbackground-color:#00cc9952;\n\tcolor:#00000;\n\tborder-radius:50px;\n\ttext-align:center;\n\tbox-shadow: 2px 2px 3px #999;\n}\n\n#reverseOrderButton{\n\ttop:110px;\n\tpadding-top: 4px;\n}\n\n#newPost {\n\ttop:170px;\n\tpadding-top: 6px;\n\ttop: 185px;\n\tfont-size: 5em;\n}\n\nhtml {\n  scroll-behavior: smooth;\n}","id":"https://na0.icarol.com/secure/forum*","js":"// fontawesome for icons\n$('head').append($(\"<script src='https://kit.fontawesome.com/29c8b6a8a8.js' crossorigin='anonymous'></script>\"))\n\n// grab table containing posts\nvar tbody = $('#cphBody_tblThread tbody');\n\n// groups <tr>s from chatboard correctly considering they are usually 3 but sometimes have attachments. (gotta be a better way)\nvar buildPostsArray = function(tdArray) {\n\tvar result = [[]]\n\tfor (var i = 0; i< tdArray.length; i ++) {\n\t\t// last sub array in result\n\t\tvar currentArray = result[result.length - 1]\n\t\t// add tr to currentArray\n\t\tcurrentArray.push(tdArray[i])\n\t\tif (currentArray.length === 3){\n\t\t\tvar currentTr = currentArray[2]\n\t\t\t// check if the 3rd element in the group is an attachment row, if so we add the next row and start a new group\n\t\t\tif (currentTr.innerHTML.includes('<span style=\"color:Red;\">')) {\n\t\t\t\tcurrentArray.push(tdArray[i+1])\n\t\t\t\tresult.push([])\n\t\t\t\ti ++\n\t\t\t// if not just start a new group\n\t\t\t} else {\n\t\t\t\tresult.push([])\n\t\t\t}\n\t\t}\n\t}\n\treturn result\n}\n\n// put elements into subarrays of specific length\nfunction chunkArray(array, size) {\n    let result = []\n    for (let i = 0; i < array.length; i += size) {\n        let chunk = array.slice(i, i + size)\n        result.push(chunk)\n    }\n    return result\n}\n\nfunction flipTable(tbody) {\n\tvar posts = $('tr', tbody).get();\n\t\n\t// var reverse_posts = chunkArray(posts, 3).reverse().flat();\n\tvar reverse_posts = buildPostsArray(posts).reverse().flat();\n\ttbody.append(reverse_posts);\n}\n\n// normally 3 elements (<tr>) per message, 4 with attachmenst so we only add the sort button for >3\nif (tbody.children().get().length > 3) {\n\t\n\t// add button\n\ttbody.append($(\"<i id='reverseOrderButton' class='fas fa-sort flyCarolButton'/></i>\"));\n\t\n\t$(\"#reverseOrderButton\").click(function() {\n\t\tflipTable(tbody);\n\t});\n}\n\ntbody.append($(\"<i id='newPost' class='fas fa-plus flyCarolButton'/></i>\"));\n\n$(\"#newPost\").click(function() {\n\t$(window).scrollTop($('#cphBody_txtMessageBody').position().top);\n\t$('#cphBody_txtMessageBody').focus()\n})\n","libs":[],"name":"Chatboard Reverse Posts + New Post Buttons","options":{"altCSS":false,"altJS":false,"autoImportant":false,"on":true}},{"compiledCss":"form {background: linear-gradient(to right, transparent, mistyrose) 60% 0% repeat-y, url(\"https://images.unsplash.com/photo-1470963162340-def4fd43095d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1650&q=80\")!important; box-shadow: white 0px 0px 8px 8px inset!important;}table {background-color: rgba(170, 170, 170, 0.1)!important;}tbody {background-color: rgba(255, 240, 170, 0.2)!important;}#cphBody_tblReportsList tr {background-color: rgb(255, 255, 255)!important;}","css":"form{\n\t\n\tbackground: linear-gradient(to right, transparent, mistyrose),\n \turl(\"https://images.unsplash.com/photo-1470963162340-def4fd43095d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1650&q=80\");\n\tbackground-repeat: repeat-y;\n\tbackground-position: 60% 0%;\n\tbox-shadow: 0 0 8px 8px white inset;\n}\n   \ntable{\n\tbackground-color: rgba(170, 170, 170, .1);\n}\n\ntbody{\n\tbackground-color: rgba(288, 240, 170, .2);\n}\n\n#cphBody_tblReportsList tr{\n\tbackground-color: rgb(255, 255, 255);\n}","id":"https://na0.icarol.com/*","js":"","libs":[],"name":"Global Background Styling","options":{"altCSS":false,"altJS":false,"autoImportant":false,"on":true}},{"compiledCss":"input[name=\"ctl00$cphBody$btnSearch\"] {width: 82px !important;}","css":"input[name=\"ctl00$cphBody$btnSearch\"]{\n\twidth: 82px!important;\n}","id":"https://na0.icarol.com/secure/reports/ReportMain.aspx","js":"var search_field = $(\"[name='ctl00$cphBody$txtSearch'\")\nvar search_button = $(\"[name='ctl00$cphBody$btnSearch']\")\nfunction search_text () {\n\treturn search_field.val()\n}\n\t\nsearch_button.click(function (e) {\n\tif (search_text().length === 7 && search_text().match(/\\d{7}/g)) {\n\t\te.preventDefault()\n\t\tconsole.log(search_text())\n\t\twindow.location.assign('https://na0.icarol.com/secure/profiles/ProfileView2.aspx?CallerNum=' + search_text())\n\t\tconsole.log(e)\n\t};\n})\n\nsearch_field.on(\"keyup change paste\", function () {\n\tif (search_text().length === 7) {\n\t\tsearch_button.prop(\"value\", \"Profile Lookup\");\n\t\tconsole.log(\"hit\")\n\t} else {\n\t\tsearch_button.prop(\"value\", \"Search\");\n\t\tconsole.log(\"miss\")\n\t}\n\tconsole.log(search_text)\n});","libs":[],"name":"Contacts Profile Search","options":{"altCSS":false,"altJS":false,"autoImportant":false,"on":true}},{"compiledCss":"#scrollToTop {padding-top: 0.1em!important; position: fixed!important; right: 10%!important; bottom: 10%!important; font-size: 6.5em!important; background-color: rgba(0, 204, 153, 0.32)!important; border-radius: 50px!important; text-align: center!important; box-shadow: rgb(153, 153, 153) 2px 2px 3px!important; height: auto!important; transition: opacity 0.3s ease-out 0s!important; user-select: none!important;}#scrollToTop.hidden {transition: opacity 0.3s ease-out 0s!important; opacity: 0!important;}#scrollToTop:active {box-shadow: rgb(153, 153, 153) 1px 1px 1px!important;}","css":"#scrollToTop{\n\tpadding-top: .1em;\n\tposition: fixed;\n\tright: 10%;\n\tbottom: 10%;\n\tfont-size: 6.5em;\n\tbackground-color:#00cc9952;\n\tborder-radius:50px;\n\ttext-align:center;\n\tbox-shadow: 2px 2px 3px #999;\n\ttransition: 0.3s;\n\theight: auto;\n\ttransition: opacity .3s ease-out;\n\t\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}\n\n#scrollToTop.hidden {\n\ttransition: opacity .3s ease-out;\n\topacity: 0;\n}\n\n#scrollToTop:active {\n\tbox-shadow: 1px 1px 1px #999;\n}","id":"https://na0.icarol*","js":"// create button\n$( 'body' ).append($(\"<div id='scrollToTop' class='hidden'>üîù</div>\"))\n\n// jump to top click listener\n$(\"#scrollToTop\").click( function () {\n\tdocument.documentElement.scrollTop = 0\n\t// document.body.scrollTop = 0; // For Safari\n})\n\n// show button on scroll\n$( window ).scroll(function() {\n  if ($( window ).scrollTop() > 500) {\n  \t$(\"#scrollToTop\").removeClass(\"hidden\")\n  } else {\n  \t$(\"#scrollToTop\").addClass(\"hidden\")\n  }\n});\n\n","libs":[],"name":"Scroll To Top Button","options":{"altCSS":false,"altJS":false,"autoImportant":false,"on":true}},{"compiledCss":".flyCarolButton {position: fixed!important; width: 100px!important; height: 60px!important; font-size: 16px!important; font-weight: bold!important; background-color: rgba(0, 204, 153, 0.32)!important; border-radius: 50px!important; text-align: center!important; box-shadow: rgb(153, 153, 153) 2px 2px 3px!important; font-family: sans-serif!important; left: 950px!important; outline: none!important;}#addWlReferralButton {top: 155px!important; padding-top: 5px!important;}#setWlTriageButton {top: 220px!important;}#addWlReferralButton:active {color: blue!important; box-shadow: rgb(153, 153, 153) 1px 1px 1px!important;}#addWlReferralButton.disabled {background-color: rgba(133, 146, 143, 0.32)!important; color: rgba(28, 31, 30, 0.32)!important;}.headless {opacity: 0.3!important;}","css":".flyCarolButton{\n\tposition:fixed;\n\twidth:100px;\n\theight:60px;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tbackground-color:#00cc9952;\n\tcolor:#00000;\n\tborder-radius:50px;\n\ttext-align:center;\n\tbox-shadow: 2px 2px 3px #999;\n\tfont-family: Sans-Serif;\n\tleft: 950px;\n\toutline: none;\n}\n\n#addWlReferralButton{\n\ttop:155px;\n\tpadding-top: 5px;\n}\n\n#setWlTriageButton{\n\ttop:220px;\n}\n\n#addWlReferralButton:active {\n\tcolor: blue;\n\tbox-shadow: 1px 1px 1px #999;\n}\n\n#addWlReferralButton.disabled {\n\tbackground-color:#85928f52;\n\tcolor: #1c1f1e52;\n}\n\n.headless {\n\topacity: .3;\n}","id":"&Action=New*, *&Draft=True","js":"var iframe = $(\"iframe#frResources\")\nvar iframeContainer = iframe.parent().parent()\n\n// wait for load in iframe\nvar waitForIframeEl = function(selector, callback) {\n\t// console.log(window.frames[0])\n  try {\n  \twindow.frames[0].$(selector).length\n  \t// console.log(\"firing callback\")\n    callback();\n  } catch(err) {\n  \tconsole.log(\"Error in waitForIframeEl: \" + err)\n    setTimeout(function() {\n    \t// console.log(\"waitForIframeEl setting timeout\")\n      waitForIframeEl(selector, callback);\n    }, 100);\n  }\n};\n\n// wait for load in doc\nvar waitForEl = function(selector, callback) {\n  if ($(selector).length) {\n  \tconsole.log(\"firing callback\")\n    callback();\n  } else {\n    setTimeout(function() {\n    \tconsole.log(\"setting timeout\")\n      waitForEl(selector, callback);\n    }, 100);\n  }\n};\n\nvar waitForWarmlineReferral = function(callback) {\n\twaitForEl(\"a#cphBody_ShowResource30650266\", callback);\n}\n\n// build WL Referral button\n$(\"#MainContent\").append($(\"<button id='addWlReferralButton' class='flyCarolButton'>Warm Line Referral</button>\"))\n\n// add WL ref button click listener\n$(\"#addWlReferralButton\").click(function (e) {\n\te.preventDefault()\n\tif (canReferWarmline()) {\n\t\treferWarmline()\n\t}\n})\n\n// add Resource Iframe opacity reset on-click to deal with referWarmline() failing to remove .headless\n$(\"#hlSearchResources\").click(function () {\n\tiframeContainer.removeClass(\"headless\")\n})\n\n// check if WL already referred\nvar canReferWarmline = function () {\n\treturn !$(\"a#cphBody_ShowResource30650266\").length\n}\n\nvar resetIframe = function () {\n\tsetTimeout(function(){\n\t\ttry {\n\t\t\twindow.frames[0].CloseWindow()\n\t\t} catch(err) {\n\t\t}\n\t\tiframeContainer.removeClass(\"headless\")\n\t\t$(\"#addWlReferralButton\").html(\"Warm Line Referral\")\n\t}, 5000);\n}\n\n// navigate the resource modal and refer WL\nvar referWarmline = async function () {\n\t// check Peer Service Referral \n\t\n\tif($(\"[fieldname='Peer service referral '] > \").prop(\"checked\") === false){\n        $(\"[fieldname='Peer service referral '] > \")[0].click();\n    }\n\t\n\t// open Resource modal\n\t$(\"#hlSearchResources\")[0].click()\n\t\n\t// display iframe empty and button with elipses\n\tiframeContainer.addClass(\"headless\")\n\t$(\"#addWlReferralButton\").html(\"...\")\n\t\n\t// start timer to fix bugging iframe\n\tresetIframe()\n\t\n\t// navigate resources and refer WL\n\tiframe.on(\"load\", async function () {\n\t\tiframe.off(\"load\")\n\t\twindow.frames[0].$(\"a:contains(California Warmlines)\")[0].click()\n\t\tconsole.log(\"debug: auto-clicked California Warmlines\")\n\t\tawait waitForIframeEl(\"input#MakeReferral30650266\", function() {\n\t\t\twindow.frames[0].$(\"input#MakeReferral30650266\")[0].click()\n\t\t\tconsole.log(\"debug: auto-clicked make referrals\")\n\t\t\twaitForIframeEl(\"#MakeReferral30650266[value='Referral made']\", function() {\n\t\t\t\tiframeContainer.removeClass(\"headless\")\n\t\t\t\t$(\"#addWlReferralButton\").html(\"Warm Line Referral\")\n\t\t\t\twindow.frames[0].CloseWindow()\n\t\t\t\t// console.log(\"debug: auto-clicked close iframe\")\n\t\t\t})\n\t\t});\n\t})\n}\n\n\n\n// check if WL referred and disable or enable button\n$(document).on('DOMNodeInserted DOMNodeRemoved', function () {\n\tif (canReferWarmline()) {\n\t\t$(\"#addWlReferralButton\").removeClass(\"disabled\")\n\t} else {\n\t\t$(\"#addWlReferralButton\").addClass(\"disabled\")\n\t}\n})\n\n// build Triage button\n$(\"#MainContent\").append($(\"<button id='setWlTriageButton' class='flyCarolButton'>Insta-WL-Triage</button>\"))\n\n\n// add Triage button click listener\n$(\"#setWlTriageButton\").click(function (e) {\n\te.preventDefault()\n\tsetWlTriage()\n})\n\nconst setWlTriage = async function () {\n\t$(\"option:contains('Asked to Call Back')\").prop(\"selected\", \"selected\");\n\tif (canReferWarmline()) {\n\t\treferWarmline()\n\t}\n\twaitForWarmlineReferral(function () {\n\t\t$(\"#cphBody_btnReportSubmit\").click()\n\t})\n};","libs":[],"name":"Add WL Referral Button + Triage Button","options":{"altCSS":false,"altJS":false,"autoImportant":false,"on":true}},{"compiledCss":"","css":"","id":"https://na0.icarol.com/*&Action=New*, &Draft=True","js":"var peer_checkbox = $(\"[fieldname='Peer Services'] >\");\n\n// not needed?\nfunction sleep(ms) {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n\n// check peer services\nfunction peerServicesEnforcer() {\n\tif(!peer_checkbox.prop('checked')){\n\t\t$(\"[fieldname='Peer Services'] > \")[0].click();\n\t}\n}\npeerServicesEnforcer()\n","libs":[],"name":"New Call Report Helper","options":{"altCSS":false,"altJS":false,"autoImportant":false,"on":true}},{"compiledCss":"[title=\"CalHOPE Call Report\"] {background-color: rgb(0, 204, 153)!important;}","css":"[title ='CalHOPE Call Report'] {\n\tbackground-color: #0C9;\n}","id":"https://na0.icarol.com/secure/reports/SelectReportVersion.*","js":"$(\"[title ='CalHOPE Call Report']\")[0].click()\n\n","libs":[],"name":"Auto-Select Report Type: CalHope","options":{"altCSS":false,"altJS":false,"autoImportant":false,"on":false}}]}